\hypertarget{_configuration_8hpp_source}{}\doxysection{Configuration.\+hpp}
\label{_configuration_8hpp_source}\index{F:/GITHUB/SiWaSIM-\/PiSoftware/src/Configuration.hpp@{F:/GITHUB/SiWaSIM-\/PiSoftware/src/Configuration.hpp}}
\mbox{\hyperlink{_configuration_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}nlohmann/json.hpp"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{using} \mbox{\hyperlink{_configuration_8hpp_ab701e3ac61a85b337ec5c1abaad6742d}{json}} = \mbox{\hyperlink{_configuration_8hpp_ab701e3ac61a85b337ec5c1abaad6742d}{nlohmann::json}};}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define CONFIG\_PATH "{}/home/siwasim/SiWaSIM-\/PiSoftware/Konfiguration/config.json"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{comment}{// I2C}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define I2C\_ADDRESS 0x50}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define I2C\_DEVICE "{}/dev/i2c-\/1"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{comment}{// MODBUS}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define SIWAREX\_ADDRESS 0x14}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{comment}{// LED Pins}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define PIN\_LED\_READY 23}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define PIN\_LED\_BUSY 24}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define PIN\_LED\_FAULT 25}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{comment}{// PWM Pin}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#define PWM\_PIN 13}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{comment}{// 24V Power Switch Pins}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define PIN\_POWERSW1 4}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#define PIN\_POWERSW2 26}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{// Pins for Impedance switching}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#define PIN\_IMPEDANCE1 5}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#define PIN\_IMPEDANCE2 6}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{comment}{// Pins for extra switches (e.g. WebServer, WriteProtect)}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#define PIN\_EXTRASW1 27}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#define PIN\_EXTRASW2 22}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{comment}{// Analog Channels}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define ADDVOL\_CHANNEL 2}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#define SUBVOL\_CHANNEL 3}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#define CELL\_DC 1}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#define SEN\_OUT 4}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define EXC\_IN 1}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define SEN\_IN 2}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{keyword}{enum} \mbox{\hyperlink{_configuration_8hpp_a79dd9036c94e58a35b6e18d61a36fb66}{LoadCellMode}}}
\DoxyCodeLine{47 \{}
\DoxyCodeLine{49    \mbox{\hyperlink{_configuration_8hpp_a79dd9036c94e58a35b6e18d61a36fb66a50d1448013c6f17125caee18aa418af7}{NORMAL}} = 0x00,}
\DoxyCodeLine{51    \mbox{\hyperlink{_configuration_8hpp_a79dd9036c94e58a35b6e18d61a36fb66a9b41216983c608e48415373ca015b3a9}{OVERLOAD}} = 0x01,}
\DoxyCodeLine{53    \mbox{\hyperlink{_configuration_8hpp_a79dd9036c94e58a35b6e18d61a36fb66a1e172b06bae2f97e733787d76106800e}{INVERTED}} = 0x02,}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \} \textcolor{keyword}{typedef} \mbox{\hyperlink{_configuration_8hpp_a79dd9036c94e58a35b6e18d61a36fb66}{LoadCellMode}};}
\DoxyCodeLine{56 }
\DoxyCodeLine{61 \textcolor{keyword}{enum} \mbox{\hyperlink{_configuration_8hpp_a8cdbfc5a2637c1334b36e71aaf4f960e}{IMPEDANCE}}}
\DoxyCodeLine{62 \{}
\DoxyCodeLine{64    \mbox{\hyperlink{_configuration_8hpp_a8cdbfc5a2637c1334b36e71aaf4f960ea0e0143636c29971736eab47415868eae}{OPEN}} = 0x00,}
\DoxyCodeLine{66    \mbox{\hyperlink{_configuration_8hpp_a8cdbfc5a2637c1334b36e71aaf4f960eae2bd7b57b3f0bb02e66e42dbacc5c7fc}{NOMINAL}} = 0x01,}
\DoxyCodeLine{68    \mbox{\hyperlink{_configuration_8hpp_a8cdbfc5a2637c1334b36e71aaf4f960ea7a1fe3ba88f0c16cb494922948a9597d}{SHORT}} = 0x02,}
\DoxyCodeLine{69 }
\DoxyCodeLine{70 \} \textcolor{keyword}{typedef} \mbox{\hyperlink{_configuration_8hpp_a8cdbfc5a2637c1334b36e71aaf4f960e}{IMPEDANCE}};}
\DoxyCodeLine{71 }
\DoxyCodeLine{75 \textcolor{keyword}{enum} \mbox{\hyperlink{_configuration_8hpp_ad1b1a6023bad2f6ca0db2b313854a671}{SYSTEM\_TYPE}}}
\DoxyCodeLine{76 \{}
\DoxyCodeLine{78    \mbox{\hyperlink{_configuration_8hpp_ad1b1a6023bad2f6ca0db2b313854a671a84bfc2ea4b24a3d1df91832df23330ab}{DOSING\_SCALE}} = 0x01,}
\DoxyCodeLine{80    \mbox{\hyperlink{_configuration_8hpp_ad1b1a6023bad2f6ca0db2b313854a671ad2dddc63d8fae358d6c7eac5eb9190ee}{BELT\_SCALE}} = 0x02,}
\DoxyCodeLine{81 \} \textcolor{keyword}{typedef} \mbox{\hyperlink{_configuration_8hpp_ad1b1a6023bad2f6ca0db2b313854a671}{SYSTEM\_TYPE}};}
\DoxyCodeLine{82 }
\DoxyCodeLine{86 \textcolor{keyword}{enum} \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7a}{MATERIAL\_FLOW}}}
\DoxyCodeLine{87 \{}
\DoxyCodeLine{88    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aac157bdf0b85a40d2619cbc8bc1ae5fe2}{NONE}} = 0x00,}
\DoxyCodeLine{89    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aa2f0d18fc0d0fa4a6cd92dc328501874d}{EMPTY}},}
\DoxyCodeLine{90    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aac5a963f145f3153de0afe16e7d8cec76}{FINE}},}
\DoxyCodeLine{91    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aa7a40b4195259848f1215900a270eb746}{COARSE}},}
\DoxyCodeLine{92    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aa0522d668568ba049c743b60edb301cf0}{XCOARSE}},}
\DoxyCodeLine{93 }
\DoxyCodeLine{94 \} \textcolor{keyword}{typedef} \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7a}{MATERIAL\_FLOW}};}
\DoxyCodeLine{95 }
\DoxyCodeLine{96 \textcolor{keyword}{enum} \mbox{\hyperlink{_configuration_8hpp_a8c551c1eb58ae69a51730eb254b93c91}{RUN\_MODE}}}
\DoxyCodeLine{97 \{}
\DoxyCodeLine{98    \mbox{\hyperlink{_configuration_8hpp_a8c551c1eb58ae69a51730eb254b93c91aeef9468d1b98bca652a04bf5063fd9d6}{AUTO}},}
\DoxyCodeLine{99    \mbox{\hyperlink{_configuration_8hpp_a8c551c1eb58ae69a51730eb254b93c91a48be352751e0dd34bbad624be5667ee2}{PASSIVE}},}
\DoxyCodeLine{100    \mbox{\hyperlink{_configuration_8hpp_a8c551c1eb58ae69a51730eb254b93c91a506e8dd29460ea318b68d035f679b01b}{MANUAL}},}
\DoxyCodeLine{101    \mbox{\hyperlink{_configuration_8hpp_a8c551c1eb58ae69a51730eb254b93c91afd6a0e4343048b10646dd2976cc5ad18}{IDLE}},}
\DoxyCodeLine{102    \mbox{\hyperlink{_configuration_8hpp_a8c551c1eb58ae69a51730eb254b93c91aac132f2982b98bcaa3445e535a03ff75}{OFF}}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104 \} \textcolor{keyword}{typedef} \mbox{\hyperlink{_configuration_8hpp_a8c551c1eb58ae69a51730eb254b93c91}{RUN\_MODE}};}
\DoxyCodeLine{105 }
\DoxyCodeLine{106 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_c_u_b_i_c___f_u_n_c_t_i_o_n}{CUBIC\_FUNCTION}}}
\DoxyCodeLine{107 \{}
\DoxyCodeLine{108    \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_c_u_b_i_c___f_u_n_c_t_i_o_n_add5e4cf078eb2d940d638885bfae5957}{a}}, \mbox{\hyperlink{struct_c_u_b_i_c___f_u_n_c_t_i_o_n_a6c3e508b89b925ccea3b35cb8f49d83f}{b}}, \mbox{\hyperlink{struct_c_u_b_i_c___f_u_n_c_t_i_o_n_ae56c62744dcb4eb7aae3ed067b9c143c}{c}}, \mbox{\hyperlink{struct_c_u_b_i_c___f_u_n_c_t_i_o_n_afbadb266d48667a32076cd674468c50b}{d}};}
\DoxyCodeLine{109 \} \textcolor{keyword}{typedef} \mbox{\hyperlink{struct_c_u_b_i_c___f_u_n_c_t_i_o_n}{CUBIC\_FUNCTION}};}
\DoxyCodeLine{110 }
\DoxyCodeLine{111 \textcolor{keyword}{class }\mbox{\hyperlink{class_configuration}{Configuration}}}
\DoxyCodeLine{112 \{}
\DoxyCodeLine{113 \textcolor{keyword}{public}:}
\DoxyCodeLine{114    \mbox{\hyperlink{class_configuration_a911965960877c2f2ba1be3a5cf397f31}{Configuration}}(std::string path);}
\DoxyCodeLine{115    \mbox{\hyperlink{class_configuration_a0dd0fa189e239f4c9a036303f641441e}{\string~Configuration}}();}
\DoxyCodeLine{116 }
\DoxyCodeLine{117    \textcolor{keywordtype}{void} \mbox{\hyperlink{class_configuration_a5c4ffeed7ac7333e9bcb8fd63232c60f}{loadConfiguration}}();}
\DoxyCodeLine{118 }
\DoxyCodeLine{119    \textcolor{comment}{// SETTING VARIABLES}}
\DoxyCodeLine{121 \textcolor{comment}{}   \mbox{\hyperlink{_configuration_8hpp_a79dd9036c94e58a35b6e18d61a36fb66}{LoadCellMode}} \mbox{\hyperlink{class_configuration_a94120b68ed6b6175c152c2799baa4cc7}{cellMode}} = \mbox{\hyperlink{_configuration_8hpp_a79dd9036c94e58a35b6e18d61a36fb66a50d1448013c6f17125caee18aa418af7}{LoadCellMode::NORMAL}};}
\DoxyCodeLine{123    \mbox{\hyperlink{_configuration_8hpp_ad1b1a6023bad2f6ca0db2b313854a671}{SYSTEM\_TYPE}} \mbox{\hyperlink{class_configuration_a081b7708cde859dad986d1d538b4532a}{systemType}} = \mbox{\hyperlink{_configuration_8hpp_ad1b1a6023bad2f6ca0db2b313854a671a84bfc2ea4b24a3d1df91832df23330ab}{SYSTEM\_TYPE::DOSING\_SCALE}};}
\DoxyCodeLine{125    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_ae8d60d92e248f2beb56ab65b3675021b}{exc\_voltage}} = 10.f;}
\DoxyCodeLine{127    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_ae5fb01ebff9c19f346cac9158b16b3a2}{load\_weight}} = 20.f;}
\DoxyCodeLine{129    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_a1ef2ca5eb6c96f604912b00073d7c5a4}{initial\_weight}} = 10.f;}
\DoxyCodeLine{131    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_adbdf6f1d3a1d29d9a65fe1e93ffa00aa}{addvol\_ratio}} = 500;}
\DoxyCodeLine{133    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_aa64f51fe43c020c59d15e95828e56af1}{max\_diff\_voltage}} = 40;}
\DoxyCodeLine{135    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_a4464bbfe8da8d5f4d8a3d98c340905a0}{cellCharecteristic}} = 4;}
\DoxyCodeLine{137    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_ae569342591db6be4b0e3e9aa68f9b957}{speedAt100}} = 5;}
\DoxyCodeLine{139    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_a4248163a3f41503860502e63931cc3ed}{freqAt100}} = 10000;}
\DoxyCodeLine{140 }
\DoxyCodeLine{141    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_a6483708cbaaf922b5d6fdbe1632cbede}{startVoltage}} = 2;}
\DoxyCodeLine{142    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_ac51343f8ded8db13c1fce7becc414825}{endVoltage}} = 9;}
\DoxyCodeLine{143 }
\DoxyCodeLine{144    \textcolor{keywordtype}{float} \mbox{\hyperlink{class_configuration_ab9b5a63539f046c6f2d19cc94680f483}{a}}, \mbox{\hyperlink{class_configuration_a45f402f94e6be5685a07767548f673ae}{b}}, \mbox{\hyperlink{class_configuration_a04919c3b82ac5e946f86bbc0eb2d7ff4}{c}}, \mbox{\hyperlink{class_configuration_a3f0fbeaebbee926fd0f399c24d9e6b9b}{d}};}
\DoxyCodeLine{145    \mbox{\hyperlink{struct_c_u_b_i_c___f_u_n_c_t_i_o_n}{CUBIC\_FUNCTION}} \mbox{\hyperlink{class_configuration_ac8c494974c83005ac7a686c12f442515}{calibrationReg}};}
\DoxyCodeLine{146 }
\DoxyCodeLine{147    \textcolor{comment}{// Input channel assignment}}
\DoxyCodeLine{148    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7a}{MATERIAL\_FLOW}} \mbox{\hyperlink{class_configuration_aa78d6dfaa0dc802df17d0e873f96078f}{inputChannel1}} = \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aa2f0d18fc0d0fa4a6cd92dc328501874d}{MATERIAL\_FLOW::EMPTY}};}
\DoxyCodeLine{149    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7a}{MATERIAL\_FLOW}} \mbox{\hyperlink{class_configuration_a1613fbdf810c3944bd99b980ff4b9b95}{inputChannel2}} = \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aac5a963f145f3153de0afe16e7d8cec76}{MATERIAL\_FLOW::FINE}};}
\DoxyCodeLine{150    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7a}{MATERIAL\_FLOW}} \mbox{\hyperlink{class_configuration_a05e043fd82ac0b9e0da67c9f1c6b8a8c}{inputChannel3}} = \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aa7a40b4195259848f1215900a270eb746}{MATERIAL\_FLOW::COARSE}};}
\DoxyCodeLine{151    \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7a}{MATERIAL\_FLOW}} \mbox{\hyperlink{class_configuration_a81a650d59731242f74bdb7a0b246dd40}{inputChannel4}} = \mbox{\hyperlink{_configuration_8hpp_a560491d8fd69bb6815b29b953b7a2c7aa0522d668568ba049c743b60edb301cf0}{MATERIAL\_FLOW::XCOARSE}};}
\DoxyCodeLine{152 }
\DoxyCodeLine{153 \textcolor{keyword}{private}:}
\DoxyCodeLine{154    \textcolor{keywordtype}{void} parseJSON();}
\DoxyCodeLine{155    std::string \_path;}
\DoxyCodeLine{156 \};}

\end{DoxyCode}
